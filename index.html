<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Color.js</title>
	<meta name="viewport" content="width=device-width" />
	<link rel="shortcut icon" href="logo.svg">
	<link rel="stylesheet" href="css/style.css">

	<script src="color.js" type="module"></script>
</head>
<body class="language-javascript">

<header>
	<nav>
		<a href="apps/">Demos</a>
		<a href="api/">API</a>
		<a href="tests/">Tests</a>
		<a href="https://github.com/LeaVerou/color.js">GitHub</a>
		<a href="https://github.com/LeaVerou/color.js/issues/new">File bug</a>
	</nav>

	<hgroup class="logo">
		<img src="logo.svg" alt="">
		<h1>Color.js</h1>
		<h2>Let's get serious about color</h2>
	</hgroup>

	<div id="features">
		<article>
			<h4>Fully color space aware</h3>
			<p>Color spaces are first-class citizens, not just used for interpolation! Each color belongs to a color space; operations are color space agnostic.</p>
		</article>
		<article>
			<h4>Up to date with CSS Color 4</h3>
			<p>Every CSS Color 4 format supported, whether your browser supports it or not</p>
		</article>
		<article>
			<h4>Readable, object-oriented API</h3>
			<p>Color objects for multiple operations on the same color, and static Color.something() functions for one-off calculations</p>
		</article>
		<article>
			<h4>Modular & Extensible</h3>
			<p>Use only what you need, or a bundle. Client-side or Node. Deep extensibility with <a href="api/#Hooks-hooks.js">hooks</a>. </p>
		</article>
	</div>
</header>

<main>
	<section>
		<h2>Reading colors</h2>

		<p>Any color from CSS Color Level 4 should work:</p>
		<pre class="prism-live"><code>
			let color = new Color("slategray");
			let color2 = new Color("hwb(60 30% 40%)");
			let color3 = new Color("color(display-p3 0 1 0)");
			let color4 = new Color("lch(50% 80 30)");

			// CSS variables work too!
			let colorjsBlue = new Color("--color-blue");
		</code></pre>
	</section>

	<section>
		<h2>Manipulating colors</h2>

		<p>You can use properties to modify coordinates
		of any color space and convert back
		<pre class="prism-live"><code>
			let color = new Color("slategray");
			color.lightness = 80; // LCH coords available directly on colors
			color.chroma *= 1.2; // saturate 20%
			color.hwb.whiteness += 10; // any other color space also available
		</code></pre>

		<p>Chaining-style modifications are also supported:</p>
		<pre class="prism-live"><code>
			let color = new Color("lch(50% 50 10)");
			color = color.set({
				hue: h => h + 180,
				chroma: 60
			}).lighten();
		</code></pre>
	</section>

	<section>
		<h2>Converting between color spaces & stringifying</h2>

		<p>Output in any color space</p>
		<pre class="prism-live"><code>
			let color = new Color("slategray");
			color + ""; // default stringification
			color.to("p3").toString({precision: 3});
		</code></pre>

		<p>Clip to gamut or don't</p>
		<pre class="prism-live"><code>
			let color = new Color("p3", [0, 1, 0]);
			color.to("srgb").toString({inGamut: false})
		</code></pre>

		<p>Change color space:</p>
		<pre class="prism-live"><code>
			let color = new Color("slategray");
			color.space = "srgb"; // Convert to sRGB
			color.spaceId = "srgb"; // Same
			color.space = "sRGB"; // Capitalization doesn't matter
			color.space = Color.spaces.srgb; // Same
			color.spaceId = Color.spaces.srgb; // Same
		</code></pre>
	</section>

	<section>
		<h2>Interpolation</h2>

		<p>Get a function that accepts a percentage:</p>
		<pre class="prism-live"><code>
			let color = new Color("p3", [0, 1, 0]);
			let redgreen = color.range("red", {
				space: "lch", // interpolation space
				outputSpace: "srgb"
			});
			redgreen(.5); // midpoint
		</code></pre>

		<p>Range interpolates between the colors at the time of its creation.
		If you change the colors afterwards, it will not be affected:</p>

		<pre class="prism-live"><code>
			let color = new Color("red");
			let color2 = new Color("black");
			let gradient = color.range(color2);
			color.coords[1] = 1;
			color2.coords[2] = 1;
			gradient(.5);
			gradient = color.range(color2);
			gradient(.5);
		</code></pre>


		<p>Interpolating between a coordinate and <code>NaN</code> keeps that coordinate constant.
		This is useful for achromatic transitions:</p>
		<pre class="prism-live"><code>
		let lime = new Color("p3", [0, 1, 0]);
		let white = new Color("lch", [100, 0, 0]);
		let white2 = new Color("lch", [100, 0, NaN]);
		let limewhite = lime.range(white, {space: "lch"});
		let limewhite2 = lime.range(white2, {space: "lch"});

		// Two kinds of fade out to transparent
		lime.range(new Color("transparent"));
		lime.range(new Color(lime.space, [NaN, NaN, NaN], 0), {space: lime.space});
		</code></pre>

		<p>You can use the <code>progression</code> parameter to customize the progression and make it non-linear:</p>
		<pre class="prism-live"><code>
			let r = new Color("lch(50 50 0)").range("lch(90 50 20)");
			Color.range(r, {progression: p => p ** 3});
		</code></pre>

		<p>Interpolation by discrete steps:</p>
		<pre class="prism-live"><code>
			let color = new Color("p3", [0, 1, 0]);
			color.steps("red", {
				space: "lch",
				outputSpace: "srgb",
				delta: 3, // max deltaE between consecutive steps
				steps: 10 // min number of steps
			});
		</code></pre>

		<p>Shortcut for specific points in the range:</p>
		<pre class="prism-live"><code>
			let color = new Color("p3", [0, 1, 0]);
			let redgreen = color.mix("red", .5, {space: "lch", outputSpace: "srgb"});
			let reddishGreen = color.mix("red", .25, {space: "lch", outputSpace: "srgb"});
		</code></pre>

		<p>Static syntax  (every color method has a static one too):</p>
		<pre class="prism-live"><code>
			Color.mix("color(display-p3 0 1 0)", "red", .5);
		</code></pre>
	</section>
</main>

<footer>
	From <a href="http://lea.verou.me">Lea Verou</a> (co-editor of CSS Color 5)
	and <a href="https://svgees.us">Chris Lilley</a> (co-editor of CSS Color 3, 4, and 5; W3C representative to ICC)
</footer>

<script src="js/prism.js"></script>
<script src="https://blissfuljs.com/bliss.shy.js"></script>
<script src="https://live.prismjs.com/src/prism-live.js?load=javascript" async></script>
<script src="js/index.js" type="module"></script>

</body>
</html>
